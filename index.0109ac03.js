function e(e){return e&&e.__esModule?e.default:e}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=l.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var l=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,l.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,l){t[e]=l},l.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"5vETZ":"index.0109ac03.js","frxiO":"placeholder.142d7701.png","5UbS1":"index.caeb98a6.css"}'));var s=e(a("amrNH")).template({1:function(e,l,n,t,a){var s,o=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'              <span class="modal__descr-list-value--listed">'+e.escapeExpression("function"==typeof(s=null!=(s=o(n,"name")||(null!=l?o(l,"name"):l))?s:e.hooks.helperMissing)?s.call(null!=l?l:e.nullContext||{},{name:"name",hash:{},data:a,loc:{start:{line:41,column:60},end:{line:41,column:68}}}):s)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,l,n,t,a){var s,o,c=e.escapeExpression,i=null!=l?l:e.nullContext||{},d=e.hooks.helperMissing,r="function",u=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<div class="modal__thumb">\n  <img \n  src="'+c(e.lambda(null!=l?u(l,"poster_path"):l,l))+"\"\n      alt='"+c(typeof(o=null!=(o=u(n,"title")||(null!=l?u(l,"title"):l))?o:d)===r?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:4,column:11},end:{line:4,column:20}}}):o)+"'\n      data-src='"+c(typeof(o=null!=(o=u(n,"id")||(null!=l?u(l,"id"):l))?o:d)===r?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:5,column:16},end:{line:5,column:22}}}):o)+'\' class="modal__image">\n</div>\n<div class="modal__descr">\n  <h2 class="modal__descr-title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=l?u(l,"title"):l))?o:d)===r?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:9,column:33},end:{line:9,column:42}}}):o)+'</h2>\n  <ul class="modal__descr-list">\n    <li class="modal__descr-list-item">\n      <p class="modal__descr-list-text--accented">\n        <span class="modal__descr-list-key">Vote / Votes</span>\n        <span class="modal__descr-list-value-block--accented">\n          <span class="modal__descr-list-value--accented">'+c(typeof(o=null!=(o=u(n,"vote_average")||(null!=l?u(l,"vote_average"):l))?o:d)===r?o.call(i,{name:"vote_average",hash:{},data:a,loc:{start:{line:15,column:58},end:{line:15,column:74}}}):o)+'</span>\n        </span>\n        <span class="modal__descr-list-value-separator">/</span>\n        <span class="modal__descr-list-value-block--unaccented">\n          <span class="modal__descr-list-value--unaccented">'+c(typeof(o=null!=(o=u(n,"vote_count")||(null!=l?u(l,"vote_count"):l))?o:d)===r?o.call(i,{name:"vote_count",hash:{},data:a,loc:{start:{line:19,column:60},end:{line:19,column:74}}}):o)+'</span>\n        </span>\n\n        </p>\n      </li>\n        <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Popularity</span>\n          <span class="modal__descr-list-value">'+c(typeof(o=null!=(o=u(n,"popularity")||(null!=l?u(l,"popularity"):l))?o:d)===r?o.call(i,{name:"popularity",hash:{},data:a,loc:{start:{line:27,column:48},end:{line:27,column:62}}}):o)+'</span>\n        </p>\n      </li>\n      <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Original Title</span>\n          <span class="modal__descr-list-value--uppercased">'+c(typeof(o=null!=(o=u(n,"original_title")||(null!=l?u(l,"original_title"):l))?o:d)===r?o.call(i,{name:"original_title",hash:{},data:a,loc:{start:{line:33,column:60},end:{line:33,column:78}}}):o)+'</span>\n        </p>\n      </li>\n      <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Genre</span>\n          <span class="modal__descr-list-value">\n'+(null!=(s=u(n,"each").call(i,null!=l?u(l,"genres"):l,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:40,column:12},end:{line:42,column:21}}}))?s:"")+'          </span>\n        </p>\n      </li>\n    </ul>\n    <h3 class="modal__descr-subtitle">About</h3>\n    <p class="modal__descr-text">'+c(typeof(o=null!=(o=u(n,"overview")||(null!=l?u(l,"overview"):l))?o:d)===r?o.call(i,{name:"overview",hash:{},data:a,loc:{start:{line:48,column:33},end:{line:48,column:45}}}):o)+'</p>\n    <div class="modal__button-block">\n      <button type="button" class="modal__button js-addToWatched" data-id="'+c(typeof(o=null!=(o=u(n,"id")||(null!=l?u(l,"id"):l))?o:d)===r?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:50,column:75},end:{line:50,column:81}}}):o)+'" data-add="watched">add to Watched</button>\n      <button type="button" class="modal__button js-addToQueue" data-id="'+c(typeof(o=null!=(o=u(n,"id")||(null!=l?u(l,"id"):l))?o:d)===r?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:51,column:73},end:{line:51,column:79}}}):o)+'" data-add="queue">add to Queue</button>\n    </div>\n  </div>\n'},useData:!0});a("9RKMR");var o,c=a("6BBzh");o=new URL(a("kyEFX").resolve("frxiO"),import.meta.url).toString();const i=document.querySelector(".js-home-page"),d=document.querySelector("[data-modal]"),r=document.querySelector("[data-modal-close]"),u=document.querySelector(".modal__body"),m=document.querySelector(".backdrop"),p=document.querySelector("body");let _=null;function f(){d.classList.add("visually__hidden"),p.classList.remove("no-scroll"),r.removeEventListener("click",f),p.removeEventListener("keydown",h),m.removeEventListener("click",v),u.innerHTML=""}function h(e){"Escape"===e.code&&f()}function v(e){e.target===e.currentTarget&&f()}function y(e){const l=e.target.dataset.id,n=JSON.parse(localStorage.getItem("watched"))||[],t=n.indexOf(l);-1===t?n.push(l):n.splice(t,1),localStorage.setItem("watched",JSON.stringify(n))}function g(e){const l=e.target.dataset.id,n=JSON.parse(localStorage.getItem("queue"))||[],t=n.indexOf(l);-1===t?n.push(l):n.splice(t,1),localStorage.setItem("queue",JSON.stringify(n))}i.addEventListener("click",(function(l){if(l.target===l.currentTarget)return;d.classList.remove("visually__hidden"),p.classList.add("no-scroll"),r.addEventListener("click",f),p.addEventListener("keydown",h),m.addEventListener("click",v);const n=l.target.dataset;if(n.item)_=Number(n.item);else if(n.src)_=Number(n.src);else if(n.film)_=Number(n.film);else if(n.hero)_=Number(n.hero);else if(n.parameters)_=Number(n.parameters);else{if(!n.votes)return;_=Number(n.votes)}!async function(l){const n=new(0,c.TheMovieDBApi)(l),t=await n.fetchFilmById(l);t.popularity=t.popularity.toFixed(1),t.poster_path=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:e(o),u.innerHTML=s(t);document.querySelector(".js-addToWatched").addEventListener("click",y);document.querySelector(".js-addToQueue").addEventListener("click",g)}(_)}));
//# sourceMappingURL=index.0109ac03.js.map
