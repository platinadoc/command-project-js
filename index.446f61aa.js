!function(){function e(e){return e&&e.__esModule?e.default:e}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},t=l.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in a){var l=a[e];delete a[e];var t={id:e,exports:{}};return n[e]=t,l.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,l){a[e]=l},l.parcelRequired7c6=t),t("iE7OH").register(JSON.parse('{"daTov":"index.446f61aa.js","bnhzl":"placeholder.142d7701.png","5UbS1":"index.caeb98a6.css"}'));var s=t("bpxeT"),o=t("2TvXO"),d=t("l5bVx"),i=e(t("WMajR")).template({1:function(e,l,n,a,t){var s,o=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'              <span class="modal__descr-list-value--listed">'+e.escapeExpression("function"==typeof(s=null!=(s=o(n,"name")||(null!=l?o(l,"name"):l))?s:e.hooks.helperMissing)?s.call(null!=l?l:e.nullContext||{},{name:"name",hash:{},data:t,loc:{start:{line:41,column:60},end:{line:41,column:68}}}):s)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(l,n,a,t,s){var o,i,c=l.escapeExpression,r=null!=n?n:l.nullContext||{},u=l.hooks.helperMissing,m="function",p=l.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<div class="modal__thumb">\n  <img \n  src="'+c(l.lambda(null!=n?p(n,"poster_path"):n,n))+"\"\n      alt='"+c((void 0===(i=null!=(i=p(a,"title")||(null!=n?p(n,"title"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"title",hash:{},data:s,loc:{start:{line:4,column:11},end:{line:4,column:20}}}):i)+"'\n      data-src='"+c((void 0===(i=null!=(i=p(a,"id")||(null!=n?p(n,"id"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"id",hash:{},data:s,loc:{start:{line:5,column:16},end:{line:5,column:22}}}):i)+'\' class="modal__image">\n</div>\n<div class="modal__descr">\n  <h2 class="modal__descr-title">'+c((void 0===(i=null!=(i=p(a,"title")||(null!=n?p(n,"title"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"title",hash:{},data:s,loc:{start:{line:9,column:33},end:{line:9,column:42}}}):i)+'</h2>\n  <ul class="modal__descr-list">\n    <li class="modal__descr-list-item">\n      <p class="modal__descr-list-text--accented">\n        <span class="modal__descr-list-key">Vote / Votes</span>\n        <span class="modal__descr-list-value-block--accented">\n          <span class="modal__descr-list-value--accented">'+c((void 0===(i=null!=(i=p(a,"vote_average")||(null!=n?p(n,"vote_average"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"vote_average",hash:{},data:s,loc:{start:{line:15,column:58},end:{line:15,column:74}}}):i)+'</span>\n        </span>\n        <span class="modal__descr-list-value-separator">/</span>\n        <span class="modal__descr-list-value-block--unaccented">\n          <span class="modal__descr-list-value--unaccented">'+c((void 0===(i=null!=(i=p(a,"vote_count")||(null!=n?p(n,"vote_count"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"vote_count",hash:{},data:s,loc:{start:{line:19,column:60},end:{line:19,column:74}}}):i)+'</span>\n        </span>\n\n        </p>\n      </li>\n        <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Popularity</span>\n          <span class="modal__descr-list-value">'+c((void 0===(i=null!=(i=p(a,"popularity")||(null!=n?p(n,"popularity"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"popularity",hash:{},data:s,loc:{start:{line:27,column:48},end:{line:27,column:62}}}):i)+'</span>\n        </p>\n      </li>\n      <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Original Title</span>\n          <span class="modal__descr-list-value--uppercased">'+c((void 0===(i=null!=(i=p(a,"original_title")||(null!=n?p(n,"original_title"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"original_title",hash:{},data:s,loc:{start:{line:33,column:60},end:{line:33,column:78}}}):i)+'</span>\n        </p>\n      </li>\n      <li class="modal__descr-list-item">\n        <p class="modal__descr-list-text">\n          <span class="modal__descr-list-key">Genre</span>\n          <span class="modal__descr-list-value">\n'+(null!=(o=p(a,"each").call(r,null!=n?p(n,"genres"):n,{name:"each",hash:{},fn:l.program(1,s,0),inverse:l.noop,data:s,loc:{start:{line:40,column:12},end:{line:42,column:21}}}))?o:"")+'          </span>\n        </p>\n      </li>\n    </ul>\n    <h3 class="modal__descr-subtitle">About</h3>\n    <p class="modal__descr-text">'+c((void 0===(i=null!=(i=p(a,"overview")||(null!=n?p(n,"overview"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"overview",hash:{},data:s,loc:{start:{line:48,column:33},end:{line:48,column:45}}}):i)+'</p>\n    <div class="modal__button-block">\n      <button type="button" class="modal__button js-addToWatched" data-id="'+c((void 0===(i=null!=(i=p(a,"id")||(null!=n?p(n,"id"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"id",hash:{},data:s,loc:{start:{line:50,column:75},end:{line:50,column:81}}}):i)+'" data-add="watched">add to Watched</button>\n      <button type="button" class="modal__button js-addToQueue" data-id="'+c((void 0===(i=null!=(i=p(a,"id")||(null!=n?p(n,"id"):n))?i:u)?"undefined":e(d)(i))===m?i.call(r,{name:"id",hash:{},data:s,loc:{start:{line:51,column:73},end:{line:51,column:79}}}):i)+'" data-add="queue">add to Queue</button>\n    </div>\n  </div>\n'},useData:!0});t("hhPRS");var c,r=t("42uFz");c=t("aNJCr").getBundleURL("daTov")+t("iE7OH").resolve("bnhzl");var u=document.querySelector(".js-home-page"),m=document.querySelector("[data-modal]"),p=document.querySelector("[data-modal-close]"),_=document.querySelector(".modal__body"),v=document.querySelector(".backdrop"),h=document.querySelector("body"),f=null;function y(){m.classList.add("visually__hidden"),h.classList.remove("no-scroll"),p.removeEventListener("click",y),h.removeEventListener("keydown",g),v.removeEventListener("click",b),_.innerHTML=""}function g(e){"Escape"===e.code&&y()}function b(e){e.target===e.currentTarget&&y()}function x(e){var l=e.target.dataset.id,n=JSON.parse(localStorage.getItem("watched"))||[],a=n.indexOf(l);-1===a?n.push(l):n.splice(a,1),localStorage.setItem("watched",JSON.stringify(n))}function k(e){var l=e.target.dataset.id,n=JSON.parse(localStorage.getItem("queue"))||[],a=n.indexOf(l);-1===a?n.push(l):n.splice(a,1),localStorage.setItem("queue",JSON.stringify(n))}function S(){return(S=e(s)(e(o).mark((function l(n){var a,t;return e(o).wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return a=new(0,r.TheMovieDBApi)(n),l.next=3,a.fetchFilmById(n);case 3:(t=l.sent).popularity=t.popularity.toFixed(1),t.poster_path=t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):e(c),_.innerHTML=i(t),document.querySelector(".js-addToWatched").addEventListener("click",x),document.querySelector(".js-addToQueue").addEventListener("click",k);case 11:case"end":return l.stop()}}),l)})))).apply(this,arguments)}u.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;m.classList.remove("visually__hidden"),h.classList.add("no-scroll"),p.addEventListener("click",y),h.addEventListener("keydown",g),v.addEventListener("click",b);var l=e.target.dataset;if(l.item)f=Number(l.item);else if(l.src)f=Number(l.src);else if(l.film)f=Number(l.film);else if(l.hero)f=Number(l.hero);else if(l.parameters)f=Number(l.parameters);else{if(!l.votes)return;f=Number(l.votes)}!function(e){S.apply(this,arguments)}(f)}))}();
//# sourceMappingURL=index.446f61aa.js.map
